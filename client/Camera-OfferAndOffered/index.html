<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=o6Z0LxTTwyZjV6dhxfco6D5uVFkZXj3k"></script>
  <link rel="stylesheet" type="text/css" href="ios.css">
  <script src="./js/jquery-3.0.0.min.js" type="text/javascript"></script>
</head>
<body>
<div class="showView">
  <div id="allmap" style="width: 100%;height: 160px;"></div>
  <div class="showTop">
    <p>定位：<span id="city"></span></p>
  </div>
  <div class="showDown">
    <button class="sureBtn">确认</button>
  </div>

</div>
<div class="linkView" style="display: none;" >
  <div id="login-page" class="page" style="display: none;">
    <h2> Login As</h2>
    <input type="text" id="username" />
    <button id="login"> Login</button>
  </div>
  <div id="call-page" class="page">
    <video id="yours" autoplay></video>
    <video id="theirs" autoplay></video>
    <input type="text" id="their-username" />
    <button id="call"> Call</button>
    <button id="hang-up"> Hang Up</button>
  </div>
</div>
</body>
<script src="main.js"></script>
<script>
  window.onload = function () {
    // 百度地图API功能
    var map = new BMap.Map("allmap");
    var point = new BMap.Point(120.14887182,33.37986188);
    map.centerAndZoom(point,15);

    var geolocation = new BMap.Geolocation();
    geolocation.getCurrentPosition(function(r){
      if(this.getStatus() == BMAP_STATUS_SUCCESS){
        var mk = new BMap.Marker(r.point);
        map.addOverlay(mk);
        map.panTo(r.point);
//        alert('您的位置：'+r.point.lng+','+r.point.lat);
      }
      else {
//        alert('failed'+this.getStatus());
      }
    },{enableHighAccuracy: true})
    //根据经纬度设置中心点

//    map.centerAndZoom(new BMap.Point(116.331398,39.897445),11);
//    map.enableScrollWheelZoom(true);

    // 用经纬度设置地图中心点
//    function theLocation(){
//      map.clearOverlays();
//      var new_point = new BMap.Point(document.getElementById("longitude").value,document.getElementById("latitude").value);
//      var marker = new BMap.Marker(new_point);  // 创建标注
//      map.addOverlay(marker);              // 将标注添加到地图中
//      map.panTo(new_point);
//      marker.setAnimation(BMAP_ANIMATION_BOUNCE); //跳动的动画
//    }
  }
</script>
</html>